(self.webpackChunkweb=self.webpackChunkweb||[]).push([[94366],{25737:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var o,i,r,a=n(67294),s=n(37974),c=n(94829),l=n(81419),u=n(54620),d=n(29208),p=n.n(d),g=n(61248),f=n(78554),m=n(4423),_=n(33487),h=n(72216);n(9179);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=o;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return k(this,n)}}function k(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(p,e);var t,r,s,d=I(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=d.call(this,e)).loginEventRefresh=function(){t.TopBandResetSessionStorage=!0,t.removeStorage(_.KQi.TopBand.SESSIONNAME,!0)},t.fireGA4=function(e){var n=v(v({},(0,c.l0)()||{}),{},{event:"select_item"});return(0,c.s0)(n,{item_name:window.location.href.indexOf(".cms")>-1?document.title:window.location.href,item_id:t.props.msid||"",item_brand:"product_interventions",item_category:"Nudges",item_category2:window.location.href.indexOf("liveblog")?"liveblog":"homepage",item_category3:null!=e&&e.item_category3?null==e?void 0:e.item_category3:"N/A",item_category4:null!=e&&e.item_category4?null==e?void 0:e.item_category4:"N/A",location_id:null!=e&&e.location_id?null==e?void 0:e.location_id:"N/A"})},t.checkMounting=function(){var e,n=t.getPrcValue(),o=t.props.componentName;if("TopBand"===o){var i=t.getStorage(_.KQi[o].SESSIONNAME,!0),r=t.checkComponentExpiryTime(_.KQi[o].DISMISS),a=t.checkComponentExpiryTime(_.KQi[o].CTACLICK);e=!i&&a&&r}else e=t.checkComponentExpiryTime(_.KQi[o]);e&&(n!==_.OT?t.end_date_timestamp||n===_.OT||t.getEndDate((function(e){t.setState({mounted:P({},o,!0),end_date:e})})):t.setState({mounted:P({},o,!0)}))},t.getEndDate=function(e){(0,g.fx)(t.props.userPrcData).then((function(n){var o=n.data.endDate||!1;t.end_date_timestamp=n.data.timestamp||!1,e(o)}))},t.updateCommonTranslationState=function(){t.setState({commonNudgesTranslations:t.props.translationData})},t.getStorage=function(e,t){return(t?sessionStorage:localStorage).getItem(e)},t.removeStorage=function(e,t){return(t?sessionStorage:localStorage).removeItem(e)},t.checkComponentExpiryTime=function(e){if(!e)return!0;try{var n=(new Date).getTime(),o=t.getStorage(e);return!o||o&&n>o}catch(e){console.log(e)}return!0},t.showBlockerToFTU=function(e){var n=t.getActiveDaysLeft();return e===_.BGv&&n>0&&n<=t._const.SHOW_BLOCKER_TO_FTAU_DAYS_BEFORE},t.getActiveDaysLeft=function(){return(t.end_date_timestamp-(new Date).getTime())/(t._const.HRS_IN_DAY*t._const.MINS_IN_HR*t._const.SEC_IN_MIN*t._const.MILLISEC_IN_SEC)},t.redirectionToPlan=function(e){var n,o,i=e.item_category3,r=t.getPrcValue();t.props.userData.isLoggedIn||u.ZP.get("ssoid")||u.ZP.get("ssoId")?(0,g.YY)(t.props.isWapView).then((function(e){var n;window.location.href=(0,h.Zo)((0,h.vQ)(v(v({},null===(n=t.props.translationData)||void 0===n?void 0:n.unifiedNodes["prc".concat(r)]),{},{acqSubSource:i||"homepage_Inline_Nudge"}),e))})):window.location.href=(0,h.Zo)((0,h.vQ)(v(v({},null===(n=t.props.translationData)||void 0===n||null===(o=n.unifiedNodes)||void 0===o?void 0:o.notLoggedIn),{},{acqSubSource:"homepage_Inline_Nudge"})))},t.replaceTokens=function(e){var n={date:t.state.end_date,timesPoints:t.timesPoints};return"function"==typeof e?e(v({},n)):e},t.fireGA=function(e,t,n){var o={};e&&(o.gaAction=e,o.gaLabel=t||"",o.noSpaceReplace=!0,o.nonInteraction=n,(0,m.z)({data:o}))},t.learnmoreClickHandler=function(e,n){(0,f.d$)({formType:"learnMoreScreen",utmsFinal:n.utms}),t.fireGA(n.ga_action,n.ga_label)},t.setInLocalStorage=function(e,t,n){try{return(n?sessionStorage:localStorage).setItem(e,t),!0}catch(e){return!1}},t.toiPlusSubscriptionHandler=function(e,n){e.preventDefault(),"planScreen"===n&&t.redirectionToPlan()},t.ctaClickHandler=function(e,n){var o=t.props.userData;e.preventDefault();var i=t.getPrcValue();if(n&&"newPlanPage"===n.type){var r,a,s,c,l,d,p=["paywall",{client_source:"cdp",event_nature:"click",event_category:"subscription",cta_text:n.cta_text||"Subscribe",position:4,unique_subscription_id:"".concat(u.ZP.get("_grx"),"_").concat((new Date).getTime())}],g={};if(void 0!==window.grx&&"function"==typeof(null===(r=window)||void 0===r||null===(a=r.grx_module)||void 0===a?void 0:a.hitPaywallEventReact))(d=window.grx_module).hitPaywallEventReact.apply(d,p),g=window.grx_module.getCdpInfo()||{};else window.Times.setGRXDataInLocalStorage("GRX_QUEUE_EVENT",{eventName:p[0],payload:p[1]});var m=p[1]||{},y={accessiblefeatures:null===(s=t.props.userPrcData)||void 0===s?void 0:s.accessibleFeatures,msid:t.props.msid,source:null===(c=t.props.userPrcData)||void 0===c?void 0:c.source,accessType:null===(l=t.props.userPrcData)||void 0===l?void 0:l.accessType,analytics_cdp:v(v({eventName:p[0]},m),g),objUserData:{email:void 0!==(null==o?void 0:o.getEmail)?o.getEmail():"",fname:void 0!==(null==o?void 0:o.getFirstName)?o.getFirstName():""},ga4Items:t.fireGA4({item_category4:e.target.innerText||"",item_category3:n.item_category3||"homepage_Inline_Nudge"})};(0,h.GK)(y).then((function(){return t.redirectionToPlan({item_category3:n.item_category3})}))}else switch(i){case _.OT:(0,f.d$)({formType:"paymentScreen",stop_redirection_for_subscribed:!0,utmsFinal:n.utms}),t.fireGA(n.ga_action,n.ga_label);break;case _.BGv:case _.dRz:case _.wAI:case _.uV$:(0,f.d$)({formType:"paymentScreen",utmsFinal:n.utms}),t.fireGA(n.ga_action,n.ga_label)}},t.getExpiryHoursAndCloseWidget=function(e,n,o){var i=t._const.MINS_IN_HR*t._const.SEC_IN_MIN*t._const.MILLISEC_IN_SEC,r=(new Date).getTime()+n*i,a=t.props.componentName;t.setInLocalStorage(e,r,o),t.unmountWidget(a)},t.unmountWidget=function(e){t.setState({mounted:P({},e,!1)})},t.clickHandler=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!=n&&n.ga_action&&(0,g.Pi)(n.ga_action,"NON_STORY"),o&&(0,c.WU)(t.state.commonNudgesTranslations.currencyCode,"dimension38"),n&&n.nudgeType&&(0,c.WU)(n.nudgeType);var i=t.props.componentName;switch(n.type){case"TopBandBtnInView":t.TopBandResetSessionStorage||t.setInLocalStorage(_.KQi[i].SESSIONNAME,!0,!0);break;case"TopBandBtnClose":t.getExpiryHoursAndCloseWidget(_.KQi[i].DISMISS,t._const.TOPBAND_DISMISS_EXPIRY_HOURS),t.fireGA(n.ga_action,n.ga_label);break;case"ToastBtnClose":t.getExpiryHoursAndCloseWidget(_.KQi[i],t._const.TOAST_TIP_EXPIRY_HOURS);break;case"SubscribeNudgeClose":t.unmountWidget(i),t.fireGA(n.ga_action,n.ga_label);break;case"AddFreeSessionLoyalUserClose":t.unmountWidget(i),t.fireGA(n.ga_action,n.ga_label),window.location.reload(!0);break;case"learnmore":t.learnmoreClickHandler(e,n);break;case"firega":t.fireGA(n.ga_action,n.ga_label,n.nonInteraction);break;case"cta_topband":t.getExpiryHoursAndCloseWidget(_.KQi[i].CTACLICK,t._const.TOPBAND_CTA_EXPIRY_HOURS),t.ctaClickHandler(e,n);break;case"SubscribeNudge":(0,f.d$)({formType:"paymentScreen",utmsFinal:n.utms}),t.fireGA(n.ga_action,n.ga_label);break;case"AddFreeSessionLoyalUsers":(0,f.d$)({formType:"paymentScreen",stop_redirection_for_subscribed:!0,utmsFinal:n.utms}),t.fireGA(n.ga_action,n.ga_label);break;case"planPage":t.fireGA(n.ga_action,n.ga_label),t.ctaClickHandler(e,n);break;case"toiplusSubscriptionPayment":t.toiPlusSubscriptionHandler(e,"paymentScreen"),t.fireGA(n.ga_action,n.ga_label);break;case"toiplusSubscriptionPlan_topBand":t.getExpiryHoursAndCloseWidget(_.KQi[i].CTACLICK,t._const.TOPBAND_CTA_EXPIRY_HOURS),t.fireGA(n.ga_action,n.ga_label);break;case"fireGrx":t.fireSubscribeGrx(n.ga_action,n.ga_label);break;default:t.ctaClickHandler(e,n)}},t.getPrcValue=function(e){var n=(e||t.props).userData,o=0;return"undefined"!=typeof window&&window.location.href.indexOf("frmapp")>0&&(window.location.href.indexOf("pc=yes")>0||window.location.href.indexOf("pc2=yes")>0)&&0===(o=(0,g.Qw)())&&(o=_.nxK),n&&n.prcValue?n.prcValue:o},t._const={HRS_IN_DAY:24,MINS_IN_HR:60,SEC_IN_MIN:60,MILLISEC_IN_SEC:1e3,SHOW_BLOCKER_TO_FTAU_DAYS_BEFORE:7,TOPBAND_CTA_EXPIRY_HOURS:72,TOPBAND_DISMISS_EXPIRY_HOURS:72,TOAST_TIP_EXPIRY_HOURS:24,prcStates:[_.dRz,_.BGv,_.wAI,_.uV$]},t.timesPoints=!1,t.state={LoadedComponent:!1,hasMounted:!1,mounted:P({},e.componentName,!1),commonNudgesTranslations:{}},t}return t=p,(r=[{key:"componentDidMount",value:function(){var e,t=this.props.componentName;this.setState({hasMounted:!0}),this.state.LoadedComponent||this.setState({LoadedComponent:(e=t,a.lazy((function(){return n(89422)("./".concat(e,"/index"))})))}),window.addEventListener("login_page_refresh",this.loginEventRefresh.bind(this)),this.checkMounting(),this.geoCountry=(0,g.Th)()}},{key:"componentDidUpdate",value:function(e){(e.userData&&(e.userData.prcValue!==this.props.userData.prcValue||e.userPrcData!==this.props.userPrcData)||e.msid!==this.props.msid)&&this.checkMounting(),(void 0===this.state.commonNudgesTranslations||0===Object.keys(this.state.commonNudgesTranslations).length)&&this.props.translationData&&this.props.translationData.currencyCode&&this.updateCommonTranslationState()}},{key:"renderSwitch",value:function(){var e=this.state,t=e.LoadedComponent,n=e.commonNudgesTranslations;if(!n||!n.currencyCode)return null;var o,i=this.getPrcValue(),r=this.props,s=r.allActivity,c=r.theme,l=r.type,u=r.isWapView,d=r.componentName,p=r.msid,f=r.disableBlocker,m=r.force,h=this.state.commonNudgesTranslations.defaultTimesPoints;switch(this.timesPoints=(0,g.zs)(u,s,h),d){case"InlineWidget":(i===_.BGv&&this.showBlockerToFTU(i)||i!==_.BGv)&&(o={prc:i,replaceTokens:this.replaceTokens,clickHandler:this.clickHandler,points:this.timesPoints,theme:c,type:l,isWapView:u,fcap:this.props.fcap||!1,shortInlineWidgetTranslation:n&&n.inlineWidgetShort,longInlineWidgetTranslation:n&&n.inlineWidgetLong,useContentVisibilty:this.props.useContentVisibilty,isRHSWidgetAS:this.props.isRHSWidgetAS,userPrcData:this.props.userPrcData});break;case"Toast":o={prc:i,clickHandler:this.clickHandler,isWapView:u};break;case"TopBand":(i===_.BGv||m)&&(o={prc:i,clickHandler:this.clickHandler,replaceTokens:this.replaceTokens,isWapView:u,points:this.timesPoints,daysLeft:this.getActiveDaysLeft(),theme:c,force:m,topBandTranslation:n&&n.topBand});break;case"SubscribeNudge":o={prc:i,clickHandler:this.clickHandler,isWapView:u,points:this.timesPoints,isLogin:this.props.userData&&this.props.userData.isLoggedIn,getStorage:this.getStorage,setInLocalStorage:this.setInLocalStorage,msid:p,force:m,theme:c,disableBlocker:f,subscribeNudgeTranslation:n&&n.subscribeNudge};break;case"AddFreeSessionLoyalUsers":o={prc:this.props.userData&&this.props.userData.isLoggedIn?i:-1,clickHandler:this.clickHandler,isWapView:u,points:this.timesPoints,isLogin:this.props.userData&&this.props.userData.isLoggedIn,getStorage:this.getStorage,removeStorage:this.removeStorage,setInLocalStorage:this.setInLocalStorage,disableBlocker:f,theme:c,force:m};break;case"HPPrimeInlineWidget":o={prc:this.props.userData&&this.props.userData.isLoggedIn?i:-1,clickHandler:this.clickHandler,isWapView:u,hpPrimeInlineWidgetTranslation:n&&n.inlineWidgetNewHP,toiHpWidget:n&&n.TOIHPWidget,userPrcData:this.props.userPrcData};break;case"BottomToast":if(!this.props.showToiPlusCongratspopup)break;o={prc:this.props.userData&&this.props.userData.isLoggedIn?i:-1,getStorage:this.getStorage,removeStorage:this.removeStorage,setInLocalStorage:this.setInLocalStorage,userData:this.props.userData};break;case"ToiplusSubscribeInlineWidget":o={prcValue:this.props.userData&&this.props.userData.isLoggedIn?i:-1,clickHandler:this.clickHandler,isWapView:u,indiaHPTopNudge:n&&n.indiaHPTopNudge,currencyCode:n.currencyCode};break;default:return null}return o?a.createElement(t,o):null}},{key:"render",value:function(){var e=this.props.componentName;return this.state.hasMounted?this.state.mounted[e]&&this.state.LoadedComponent||"InlineWidget"!==e?this.state.mounted[e]&&this.state.LoadedComponent&&(this.props.showToiPlusNudges||"BottomToast"===e||"TopBand"===e&&this.getPrcValue()===_.BGv||"HPPrimeInlineWidget"===e&&(this.getPrcValue()===_.BGv||this.getPrcValue()===_.nxK))?"HPPrimeInlineWidget"!==e&&"InlineWidget"!==e?null:b(l.Z,{},void 0,b(a.Suspense,{fallback:i||(i=b("div",{}))},void 0,this.renderSwitch())):null:o||(o=b("div",{className:"primeScreenWidgetWrapper CLSPlaceholder"})):null}}])&&T(t.prototype,r),s&&T(t,s),Object.defineProperty(t,"prototype",{writable:!1}),p}(a.Component);N.defaultProps={allActivity:[],isWapView:!1,theme:void 0,componentName:"InlineWidget",type:void 0,userData:{},msid:void 0,force:!1,disableBlocker:void 0,isPrime:!1,translationData:{},showToiPlusCongratspopup:!1,useContentVisibilty:!1,showToiPlusNudges:!1,isRHSWidgetAS:!1};const O=(0,s.$j)((function(e){var t,n;return{isPrime:e.isPrime,translationData:p()(e,"translationConfig.data",{}),userData:e.login&&e.login.userData?e.login.userData:{},allActivity:e.timespointmodal&&e.timespointmodal.allActivity,showToiPlusCongratspopup:void 0!==e.toiplusconfig&&(null===(t=e.toiplusconfig)||void 0===t?void 0:t.showToiPlusCongratspopup),showToiPlusNudges:void 0!==e.toiplusconfig&&(null===(n=e.toiplusconfig)||void 0===n?void 0:n.showToiPlusNudges),userPrcData:e.login.userPrcData}}),null)(N)},89422:(e,t,n)=>{var o={"./AddFreeSessionLoyalUsers/index":[59510,59510],"./BottomToast/index":[27058,27058],"./HPPrimeInlineWidget/index":[79612,79612],"./InlineWidget/index":[21664,89383],"./SubscribeNudge/index":[17106,17106],"./Toast/index":[29677,29677],"./ToiplusSubscribeInlineWidget/index":[39226,96486,39226],"./TopBand/index":[77785,77785]};function i(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(i)))}i.keys=()=>Object.keys(o),i.id=89422,e.exports=i}}]);
//# sourceMappingURL=articleshowv2_desktop_nonprime.44d94e80.chunk.js.map